<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Framed Stream • Live Sports</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0; padding: 0;
      background: linear-gradient(135deg, #0a0a0f 0%, #1e1e2f 50%, #2a0a0f 100%); /* Stadium night fade */
      font-family: 'Inter', sans-serif; /* Clean, variable for subtle scaling */
      display: flex; justify-content: center; align-items: center; min-height: 100vh;
      overflow: hidden;
      color: #e0e0e0;
    }
    .frame {
      position: relative; width: 90vw; height: 70vh; max-width: 1200px;
      border-radius: 16px; /* Softer for immersion */
      background: rgba(255, 255, 255, 0.03); /* Glassmorphic veil */
      backdrop-filter: blur(20px); 
      box-shadow: 0 16px 64px rgba(0, 0, 0, 0.4), inset 0 0 0 1px rgba(255, 165, 0, 0.1); /* Golden edge glow */
      overflow: hidden;
    }
    iframe {
      width: 100%; height: 100%; border: none; border-radius: inherit;
      background: #000; /* Fallback void */
    }
    .ambient-glow {
      position: absolute; inset: 0;
      background: radial-gradient(circle at 20% 80%, rgba(255, 165, 0, 0.15) 0%, transparent 50%),
                  radial-gradient(circle at 80% 20%, rgba(100, 200, 255, 0.1) 0%, transparent 70%);
      opacity: 0.6; animation: breathe 6s ease-in-out infinite; /* Slower for match tempo */
      pointer-events: none;
      z-index: 1;
    }
    @keyframes breathe { 
      0%, 100% { opacity: 0.4; transform: scale(1); } 
      50% { opacity: 0.8; transform: scale(1.02); } 
    }
    .meta-overlay {
      position: absolute; top: 20px; left: 20px; right: 20px;
      opacity: 0; transition: opacity 0.5s ease; 
      background: rgba(0, 0, 0, 0.5); 
      border-radius: 8px; padding: 12px;
      display: flex; justify-content: space-between; font-size: 0.9rem;
      z-index: 10;
    }
    .frame:hover .meta-overlay { opacity: 1; } /* Emerges on engagement */
    .controls {
      position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
      opacity: 0; transition: opacity 0.4s ease; display: flex; gap: 8px;
      z-index: 10;
    }
    .frame:hover .controls { opacity: 1; }
    button {
      background: rgba(255, 165, 0, 0.8); border: none; color: #000; padding: 10px 20px;
      border-radius: 8px; font-weight: 500; cursor: pointer; transition: background 0.3s;
      font-family: 'Inter', sans-serif;
    }
    button:hover { background: rgba(255, 165, 0, 1); }
    .channel-info { font-size: 0.8rem; color: #aaa; } /* Subtle nod to HD2 */
    
    /* Loading state */
    .loading {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.2rem;
      color: rgba(255, 165, 0, 0.8);
      z-index: 5;
      animation: pulse 2s ease-in-out infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 0.4; }
      50% { opacity: 1; }
    }
  </style>
</head>
<body>
  <div class="frame">
    <div class="ambient-glow"></div>
    <div class="loading" id="loading">Loading stream...</div>
    <iframe 
      src="/proxy-stream/channels/hd/hd2.php" 
      title="HD2 Live Stream" 
      allowfullscreen
      id="streamFrame"
    ></iframe>
    <div class="meta-overlay">
      <span class="channel-info">HD2 Channel • Live Sports Broadcast</span>
      <span id="timestamp">00:00</span> <!-- JS-updated clock -->
    </div>
    <div class="controls">
      <button onclick="sendPlayerAction('play')" title="Play">▶ Play</button>
      <button onclick="sendPlayerAction('pause')" title="Pause">⏸ Pause</button>
      <button onclick="toggleFullscreen()" title="Fullscreen">⛶ Fullscreen</button>
    </div>
  </div>
  <script>
    // Cinematic load: Fade-in with stream sync
    const frame = document.querySelector('.frame');
    const loading = document.getElementById('loading');
    const streamFrame = document.getElementById('streamFrame');
    
    frame.style.opacity = '0'; 
    frame.style.transition = 'opacity 1.5s ease';
    
    window.addEventListener('load', () => {
      setTimeout(() => {
        frame.style.opacity = '1';
      }, 500);
    });

    // Hide loading indicator when iframe loads
    streamFrame.addEventListener('load', () => {
      setTimeout(() => {
        loading.style.display = 'none';
      }, 1000);
    });

    // Timestamp ticker
    function updateTime() { 
      document.getElementById('timestamp').textContent = new Date().toLocaleTimeString(); 
    }
    setInterval(updateTime, 1000); 
    updateTime();

    // Player control helper
    function sendPlayerAction(action) {
      try {
        document.querySelector('iframe').contentWindow.postMessage({action: action}, '*');
      } catch (e) {
        console.log('Player control not available for this stream');
      }
    }

    // Fullscreen helper
    function toggleFullscreen() {
      if (!document.fullscreenElement) {
        if (frame.requestFullscreen) {
          frame.requestFullscreen();
        } else if (frame.webkitRequestFullscreen) {
          frame.webkitRequestFullscreen();
        } else if (frame.mozRequestFullScreen) {
          frame.mozRequestFullScreen();
        } else if (frame.msRequestFullscreen) {
          frame.msRequestFullscreen();
        }
      } else {
        if (document.exitFullscreen) {
          document.exitFullscreen();
        }
      }
    }

    // Post-message for controls (if proxied player supports)
    window.addEventListener('message', (e) => {
      if (e.data.type === 'streamUpdate') { 
        /* Handle score pops or events */ 
        console.log('Stream update received:', e.data);
      }
    });

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if (e.key === 'f' || e.key === 'F') {
        toggleFullscreen();
      }
      if (e.key === ' ') {
        e.preventDefault();
        // Toggle play/pause would go here if supported
      }
    });
  </script>
</body>
</html>
